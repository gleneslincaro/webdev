$(function(){
    var inputCountMax = 50;
    var textareaCountMax = 1000;
 
    $('input').bind('keydown keyup keypress change',function(){
        var thisValueLength = $(this).val().length;
        var countDown = (inputCountMax)-(thisValueLength);
        $('.count_input').html(countDown);
 
        if(countDown < 0){
            $('.count_input').css({color:'#ff0000',fontWeight:'bold'});
            $('input').css({background:'#ffcccc'});
        } else {
            $('.count_input').css({color:'#000000',fontWeight:'normal'});
            $('input').css({background:'#ffffff'});
        }
    });
    $('textarea').bind('keydown keyup keypress change',function(){
        var thisValueLength = $(this).val().length;
        var countDown = (textareaCountMax)-(thisValueLength);
        $('.count_textarea').html(countDown);
 
        if(countDown < 0){
            $('.count_textarea').css({color:'#ff0000',fontWeight:'bold'});
            $('textarea').css({background:'#ffcccc'});
        } else {
            $('.count_textarea').css({color:'#000000',fontWeight:'normal'});
            $('textarea').css({background:'#ffffff'});
        }
    });
 
    $(window).load(function(){
        $('.count_input').html(inputCountMax);
        $('.count_textarea').html(textareaCountMax);
    });
});
